# Memory Bank系统指南

## 概述
Memory Bank是一个持久化上下文管理系统，用于维护项目状态和开发过程中的各种上下文信息。

## 核心文件位置
**重要**: 所有Memory Bank文件都位于 [memory-bank/](mdc:memory-bank/) 目录中。

### 主要文件结构
- [memory-bank/projectbrief.md](mdc:memory-bank/projectbrief.md) - 项目基础信息和目标
- [memory-bank/productContext.md](mdc:memory-bank/productContext.md) - 产品上下文和需求
- [memory-bank/techContext.md](mdc:memory-bank/techContext.md) - 技术上下文和约束
- [memory-bank/systemPatterns.md](mdc:memory-bank/systemPatterns.md) - 系统模式和最佳实践
- [memory-bank/activeContext.md](mdc:memory-bank/activeContext.md) - 当前活跃上下文
- [memory-bank/progress.md](mdc:memory-bank/progress.md) - 实施进度跟踪
- [memory-bank/tasks.md](mdc:memory-bank/tasks.md) - 任务跟踪和待办事项
- [memory-bank/style-guide.md](mdc:memory-bank/style-guide.md) - 代码风格指南

### 创意阶段文档
- [memory-bank/creative-*.md](mdc:memory-bank/) - 创意阶段的设计文档

### 反思和归档
- `memory-bank/reflection/` - 任务反思文档
- `memory-bank/archive/` - 已完成任务的归档

## 文件操作规则

### 1. 路径验证
- 在对Memory Bank文件进行任何 `create_file` 或 `edit_file` 操作前，必须验证路径以 `memory-bank/` 开头
- 如果尝试在项目根目录创建核心文件（如 `tasks.md`），确保创建在 `memory-bank/tasks.md`

### 2. 任务跟踪
- [memory-bank/tasks.md](mdc:memory-bank/tasks.md) 是活跃任务的临时工作文档
- 包含步骤、清单和组件列表的详细信息
- 任务完成后，内容合并到归档文档中，然后清空文件

### 3. 上下文继承
基础上下文流动：
```
projectbrief.md → productContext.md, systemPatterns.md, techContext.md
                ↓
            activeContext.md → progress.md, tasks.md
```

## 使用模式

### 开发阶段
1. **VAN模式**: 验证和初始化，检查Memory Bank状态
2. **PLAN模式**: 规划阶段，更新计划相关文档
3. **CREATIVE模式**: 创意设计，生成设计文档
4. **IMPLEMENT模式**: 实施阶段，跟踪进度
5. **QA模式**: 质量保证，验证完成状态

### 最佳实践
- 始终保持 [memory-bank/tasks.md](mdc:memory-bank/tasks.md) 为当前任务的单一真实来源
- 定期更新 [memory-bank/progress.md](mdc:memory-bank/progress.md) 反映实施状态
- 使用 [memory-bank/activeContext.md](mdc:memory-bank/activeContext.md) 维护当前焦点
- 完成任务后及时归档到 `memory-bank/archive/` 目录